package com.example.weatherapp1;import androidx.appcompat.app.AppCompatActivity;import android.app.ProgressDialog;import android.content.Context;import android.os.Bundle;import android.os.StrictMode;import android.view.View;import android.widget.ImageView;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import com.android.volley.Request;import com.android.volley.RequestQueue;import com.android.volley.Response;import com.android.volley.VolleyError;import com.android.volley.toolbox.JsonObjectRequest;import com.android.volley.toolbox.Volley;import com.bumptech.glide.Glide;import com.google.android.material.textfield.TextInputEditText;import org.json.JSONArray;import org.json.JSONException;import org.json.JSONObject;public class MainActivity extends AppCompatActivity {    private TextView cityNameTV, temperatureTV, conditionTV, pressureTV, humidityTV, windspeedTV, latTV,longTV;    private TextView pressureTVAns, humidityTVAns, windspeedTVAns, latTVAns, longTVAns;    private RelativeLayout homeRL;    private TextInputEditText cityEdt;    private ImageView backIV, iconIV, searchIV;    private String cityName;    Context context;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        context = this;        Toast.makeText(this, "Main Actiivity", Toast.LENGTH_SHORT).show();        homeRL = findViewById(R.id.Home);        cityNameTV = findViewById(R.id.TVCityName);        temperatureTV = findViewById(R.id.TVTemperature);        conditionTV = findViewById(R.id.TempCondition);        cityEdt = findViewById(R.id.edtCity);        backIV = findViewById(R.id.bkgimage);        iconIV = findViewById(R.id.IVIcon);        searchIV = findViewById(R.id.IVSearch);        pressureTVAns  = findViewById(R.id.PressureAns);        humidityTVAns = findViewById(R.id.HumidityAns);        windspeedTVAns = findViewById(R.id.WindSpeedAns);        latTVAns = findViewById(R.id.LatAns);        longTVAns = findViewById(R.id.LongiAns);        if (BuildConfig.DEBUG) {            StrictMode.enableDefaults();        }        searchIV.setOnClickListener(new View.OnClickListener() {                                        @Override                                        public void onClick(View view) {                                            String city = cityEdt.getText().toString();                                            if (city.isEmpty()) {                                                Toast.makeText(MainActivity.this, "Please enter city name", Toast.LENGTH_SHORT).show();                                            } else {                                                cityNameTV.setText(cityName);                                                getWeatherInfo(city);                                            }                                        }                                    }        );    }    private void getWeatherInfo(String cityName) {        String                url = "https://api.openweathermap.org/data/2.5/weather?q="+cityName+"&appid=4fe844bb0c53946f08cfc3e7773e6299";        cityNameTV.setText(cityName);        ProgressDialog dialog = new ProgressDialog(this);        dialog.setMessage("getting weather ");        dialog.show();        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, url, null, new Response.Listener<JSONObject>() {            @Override            public void onResponse(JSONObject response) {                try {                    JSONObject main = response.getJSONObject("main");                    double temp = Math.floor(main.getDouble("temp")- 273.15);                    temperatureTV.setText(temp+"°C" );                    JSONArray weather = response.getJSONArray("weather");                    JSONObject weatherObj = (JSONObject) weather.get(0);                    String icon = weatherObj.getString("icon");                    Toast.makeText(MainActivity.this, icon, Toast.LENGTH_SHORT).show();                    Glide.with(context).load("http://openweathermap.org/img/wn/"+icon+"@2x.png").into(iconIV);                    JSONObject descriptionObj = (JSONObject)weather.get(0);                    String desc = descriptionObj.getString("description");                    conditionTV.setText(desc);                    int pressure = main.getInt("pressure");//                    Toast.makeText(MainActivity.this, pressure, Toast.LENGTH_SHORT).show();                    pressureTVAns.setText(pressure+" hPa");//                    int humidity = main.getInt("humidity");                    humidityTVAns.setText(humidity+"%");//                    JSONObject wind = response.getJSONObject("wind");                    String speed  = wind.getString("speed");                    windspeedTVAns.setText(speed+" meter/sec");                    JSONObject coord = response.getJSONObject("coord");                    double lat = coord.getDouble("lat");                    latTVAns.setText(lat+"°");                    double lon = coord.getDouble("lon");                    longTVAns.setText(lon+"°");//                    Toast.makeText(MainActivity.this, "" + temp, Toast.LENGTH_SHORT).show();                    dialog.dismiss();                } catch (JSONException e) {                    e.printStackTrace();                }            }        }, new Response.ErrorListener() {            @Override            public void onErrorResponse(VolleyError error) {                Toast.makeText(MainActivity.this, "Valid city name", Toast.LENGTH_SHORT).show();            }        });        requestQueue.add(jsonObjectRequest);    }}